name: Run all Qadence tests on schedule.
 on: push

concurrency:
  group: all-${{ github.head_ref || github.run_id }}
  cancel-in-progress: true



jobs:
  test_qadence_mac_windows:
    name: Test Qadence (ubuntu)
    runs-on: [windows-latest, macos-latest]
    python-version: "3.10"
    steps:
    - name: Checkout Qadence
      uses: actions/checkout@v4

    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}

    - name: Install Hatch
      run: |
        pip install hatch

    - name: Run tests
      run: |
        hatch -v run test -m "not slow"
